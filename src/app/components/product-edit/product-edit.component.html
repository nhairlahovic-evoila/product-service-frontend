@if(errorMessage) { 
<div class="row mt-4">
    <div class="col-12">
        <div class="alert alert-danger" role="alert">
            Something went wrong. Request can not be processed. Error message: <strong>{{ errorMessage }}</strong>.
        </div>
    </div>
</div>
}

<div class="row mt-4">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <strong>{{ productId > 0 ? "Edit Product" : "Add Product" }}</strong>
            </div>
            <div class="card-body">
                <form novalidate [formGroup]="productForm" id="productForm">
                    <div class="form-group mb-2">
                        <label for="name" class="mb-1">Name:</label>
                        <input type="text" class="form-control" id="name" placeholder="Name" formControlName="name" [ngClass]="{'is-invalid': isInvalid('name') }">
                        <span class="invalid-feedback">
                            <span *ngIf="this.productForm.get('name')?.errors?.['required']">
                                Please enter product name.
                            </span>
                        </span>
                    </div>

                    <div class="form-group mb-2">
                        <label for="url" class="mb-1">Description:</label>
                        <textarea rows="5" class="form-control " id="description" placeholder="Description..." formControlName="description" [ngClass]="{'is-invalid': isInvalid('description') }"></textarea>
                        <span class="invalid-feedback">
                            <span *ngIf="this.productForm.get('description')?.errors?.['required']">
                                Please enter product description.
                            </span>
                        </span>
                    </div>

                    <div class="form-group mb-2">
                        <label for="name" class="mb-1">Price:</label>
                        <input type="number" class="form-control" id="price" formControlName="price" [ngClass]="{'is-invalid': isInvalid('price') }">
                        <span class="invalid-feedback">
                            <span *ngIf="this.productForm.get('price')?.errors?.['required']">
                                Please enter product price.
                            </span>
                            <span *ngIf="this.productForm.get('price')?.errors?.['min']">
                                Please enter valid price.
                            </span>
                        </span>
                    </div>

                    <div class="text-end mb-2">
                        <button type="button" class="btn btn-link me-2" (click)="onBack()">Back</button>
                        <button type="submit" class="btn btn-primary" [disabled]="!productForm.valid" (click)="submitForm()">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>